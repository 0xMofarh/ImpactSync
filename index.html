<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ù…Ø´Ø±ÙˆØ¹ Ù…Ù†ØµØ© Ø§Ù„Ù…Ø¤Ø«Ø±ÙŠÙ†</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Tajawal', sans-serif;
            background-color: #FDFBF7;
            color: #4A4A4A;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 900px;
            margin-left: auto;
            margin-right: auto;
            height: 400px;
            max-height: 50vh;
        }
        .task-card {
            transition: all 0.3s ease-in-out;
        }
        .task-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.07), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .progress-bar-bg {
            background-color: #EAEAEA;
        }
        .progress-bar-fg {
            background-color: #8D8741;
            transition: width 0.5s ease-in-out;
        }
        [x-cloak] { display: none !important; }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
</head>
<body x-data="projectDashboard()">
    <div class="container mx-auto p-4 md:p-8">
        
        <header class="text-center mb-8">
            <h1 class="text-4xl font-bold text-[#659DBD]">Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ù…Ø´Ø±ÙˆØ¹ Ù…Ù†ØµØ© Ø§Ù„Ù…Ø¤Ø«Ø±ÙŠÙ†</h1>
            <p class="text-lg mt-2 text-gray-600">Ø£Ø¯Ø§Ø© Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ø®Ø§ØµØ© Ø¨Ùƒ Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø®Ø·Ø© Ø¥Ù„Ù‰ ÙˆØ§Ù‚Ø¹</p>
        </header>

        <div class="bg-white rounded-2xl shadow-lg p-6 mb-8">
            <h2 class="text-2xl font-bold mb-4 text-[#8D8741]">Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø© Ø¹Ù„Ù‰ Ø§Ù„ØªÙ‚Ø¯Ù…</h2>
            <div class="w-full progress-bar-bg rounded-full h-8">
                <div class="progress-bar-fg text-xs font-medium text-blue-100 text-center p-1 leading-none rounded-full h-8 flex items-center justify-center" 
                     :style="`width: ${overallProgress()}%`">
                    <span x-text="`${overallProgress()}%`"></span>
                </div>
            </div>
        </div>

        <div class="flex justify-center mb-8 border-b-2 border-gray-200">
            <button @click="activeTab = 'tasks'" 
                    :class="{'border-[#8D8741] text-[#8D8741]': activeTab === 'tasks', 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300': activeTab !== 'tasks'}"
                    class="py-4 px-6 block font-medium text-lg border-b-4 focus:outline-none">
                ğŸ“‹ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù‡Ø§Ù…
            </button>
            <button @click="activeTab = 'timeline'"
                    :class="{'border-[#8D8741] text-[#8D8741]': activeTab === 'timeline', 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300': activeTab !== 'timeline'}"
                    class="py-4 px-6 block font-medium text-lg border-b-4 focus:outline-none">
                â³ Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø²Ù…Ù†ÙŠ
            </button>
        </div>

        <main>
            <div x-show="activeTab === 'tasks'" x-cloak>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <template x-for="(phase, index) in phases" :key="index">
                        <div class="task-card bg-white rounded-2xl shadow-md p-5 flex flex-col">
                            <div class="flex justify-between items-start mb-3">
                                <h3 class="text-xl font-bold text-[#659DBD]" x-text="phase.title"></h3>
                                <span class="text-sm font-semibold bg-[#F4E0B9] text-[#BC6C25] py-1 px-3 rounded-full" x-text="`Ø§Ù„Ù…Ø±Ø­Ù„Ø© ${index + 1}`"></span>
                            </div>
                            <p class="text-gray-600 mb-4 flex-grow" x-text="phase.description"></p>
                            
                            <div class="mb-4">
                                <div class="flex justify-between mb-1">
                                    <span class="text-base font-medium text-[#8D8741]">Ø§Ù„ØªÙ‚Ø¯Ù…</span>
                                    <span class="text-sm font-medium text-[#8D8741]" x-text="`${phaseProgress(phase)}%`"></span>
                                </div>
                                <div class="w-full progress-bar-bg rounded-full h-2.5">
                                    <div class="progress-bar-fg h-2.5 rounded-full" :style="`width: ${phaseProgress(phase)}%`"></div>
                                </div>
                            </div>

                            <button @click="phase.expanded = !phase.expanded" class="w-full text-left text-[#BC6C25] font-semibold mt-auto flex items-center justify-between">
                                <span x-text="phase.expanded ? 'Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ù…Ù‡Ø§Ù…' : 'Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù‡Ø§Ù…'"></span>
                                <svg class="w-4 h-4 transition-transform" :class="{'rotate-180': phase.expanded}" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                            </button>

                            <div x-show="phase.expanded" x-collapse x-cloak>
                                <ul class="mt-4 space-y-3">
                                    <template x-for="(task, taskIndex) in phase.tasks" :key="taskIndex">
                                        <li class="flex items-start">
                                            <input type="checkbox" :id="`task_${index}_${taskIndex}`" x-model="task.completed" class="mt-1 form-checkbox h-5 w-5 text-[#8D8741] rounded border-gray-300 focus:ring-[#659DBD]">
                                            <label :for="`task_${index}_${taskIndex}`" class="mr-3 text-gray-700" :class="{'line-through text-gray-400': task.completed}" x-text="task.name"></label>
                                        </li>
                                    </template>
                                </ul>
                            </div>
                        </div>
                    </template>
                </div>
            </div>

            <div x-show="activeTab === 'timeline'" x-cloak>
                 <div class="bg-white rounded-2xl shadow-lg p-6">
                    <div class="chart-container">
                        <canvas id="timelineChart"></canvas>
                    </div>
                </div>
            </div>
        </main>

    </div>

    <script>
        function projectDashboard() {
            return {
                activeTab: 'tasks',
                phases: [
                    {
                        title: 'Ø§Ù„ØªØ£Ø³ÙŠØ³ Ø§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠ ÙˆØ§Ù„Ø¥Ø¹Ø¯Ø§Ø¯',
                        description: 'ÙˆØ¶Ø¹ Ø­Ø¬Ø± Ø§Ù„Ø£Ø³Ø§Ø³ Ù„Ù„Ù…Ø´Ø±ÙˆØ¹ Ø¨Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ØªÙ‚Ù†ÙŠØ§Øª Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø© ÙˆØ¥Ø¹Ø¯Ø§Ø¯ Ø¨ÙŠØ¦Ø© Ø§Ù„Ø¹Ù…Ù„.',
                        duration: [0, 2], 
                        expanded: false,
                        tasks: [
                            { name: 'Ø§Ø®ØªÙŠØ§Ø± Ø¥Ø·Ø§Ø± Ø¹Ù…Ù„ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø®Ù„ÙÙŠØ© (Django)', completed: false },
                            { name: 'Ø§Ø®ØªÙŠØ§Ø± Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (PostgreSQL)', completed: false },
                            { name: 'Ø¥Ø¹Ø¯Ø§Ø¯ Ø¨ÙŠØ¦Ø© Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ (Git, venv)', completed: false },
                            { name: 'ØªÙƒÙˆÙŠÙ† Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª', completed: false },
                        ]
                    },
                    {
                        title: 'ØªØµÙ…ÙŠÙ… Ù…Ø®Ø·Ø· Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª',
                        description: 'ØªØ±Ø¬Ù…Ø© Ù…ØªØ·Ù„Ø¨Ø§Øª Ø§Ù„Ù…Ù†ØµØ© Ø¥Ù„Ù‰ Ù†Ù…Ø§Ø°Ø¬ Ø¨ÙŠØ§Ù†Ø§Øª ÙˆÙ‡ÙŠÙƒÙ„ Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ù…ØªÙŠÙ†.',
                        duration: [2, 4],
                        expanded: false,
                        tasks: [
                            { name: 'Ù†Ù…Ø°Ø¬Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙˆØ§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ø´Ø®ØµÙŠØ© (User, Profiles)', completed: false },
                            { name: 'Ù†Ù…Ø°Ø¬Ø© Ø§Ù„Ù…Ø­ØªÙˆÙ‰ ÙˆØ§Ù„Ù…Ù†ØµØ§Øª (Platforms, Content)', completed: false },
                            { name: 'Ù†Ù…Ø°Ø¬Ø© Ø§Ù„Ø­Ù…Ù„Ø§Øª ÙˆØ§Ù„Ø§Ø´ØªØ±Ø§ÙƒØ§Øª (Campaigns, Subscriptions)', completed: false },
                            { name: 'Ø±Ø³Ù… Ù…Ø®Ø·Ø· Ø¹Ù„Ø§Ù‚Ø§Øª Ø§Ù„ÙƒÙŠØ§Ù†Ø§Øª (ERD)', completed: false },
                        ]
                    },
                    {
                        title: 'Ø¨Ù†Ø§Ø¡ Ø§Ù„Ù…Ù†ØªØ¬ Ø§Ù„Ø£ÙˆÙ„ÙŠ (MVP)',
                        description: 'ØªØ·ÙˆÙŠØ± Ø§Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© Ù„ØªÙ‚Ø¯ÙŠÙ… Ù…Ù†ØªØ¬ ÙˆØ¸ÙŠÙÙŠ Ù‚Ø§Ø¨Ù„ Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø± ÙˆØ§Ù„ØªØ­Ù‚Ù‚.',
                        duration: [4, 9],
                        expanded: false,
                        tasks: [
                            { name: 'ØªÙ†ÙÙŠØ° Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© ÙˆØ§Ù„ØªØ³Ø¬ÙŠÙ„ (django-allauth)', completed: false },
                            { name: 'Ø¨Ù†Ø§Ø¡ Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø¹Ù„Ù†ÙŠÙ† Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©', completed: false },
                            { name: 'ØªØ·ÙˆÙŠØ± Ù†Ù…ÙˆØ°Ø¬ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù…Ø¤Ø«Ø±ÙŠÙ†', completed: false },
                            { name: 'ØªÙ†ÙÙŠØ° Ø§Ø³ØªÙŠØ±Ø§Ø¯/ØªØµØ¯ÙŠØ± Ù…Ù„ÙØ§Øª Excel (django-import-export)', completed: false },
                        ]
                    },
                    {
                        title: 'ØªØ­Ù‚ÙŠÙ‚ Ø§Ù„Ø¯Ø®Ù„ ÙˆÙ…Ù†Ø·Ù‚ Ø§Ù„Ø§Ø´ØªØ±Ø§ÙƒØ§Øª',
                        description: 'Ø¨Ù†Ø§Ø¡ Ù…Ø­Ø±Ùƒ ØªØ­Ù‚ÙŠÙ‚ Ø§Ù„Ø¯Ø®Ù„ Ø¹Ø¨Ø± Ø§Ù„Ø¨Ø§Ù‚Ø§Øª ÙˆØ¯Ù…Ø¬ Ø¨ÙˆØ§Ø¨Ø§Øª Ø§Ù„Ø¯ÙØ¹.',
                        duration: [9, 12],
                        expanded: false,
                        tasks: [
                            { name: 'ØªÙ†ÙÙŠØ° Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„Ø¨Ø§Ù‚Ø§Øª ÙˆØ§Ù„Ø§Ø´ØªØ±Ø§ÙƒØ§Øª', completed: false },
                            { name: 'Ø¯Ù…Ø¬ Ø¨ÙˆØ§Ø¨Ø© Ø§Ù„Ø¯ÙØ¹ (Stripe/Tap/Noonpay)', completed: false },
                            { name: 'Ø¥Ø¹Ø¯Ø§Ø¯ Ù…Ù†Ø·Ù‚ Ø§Ù„ÙØªØ±Ø© Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠØ© Ø§Ù„Ù…Ø¬Ø§Ù†ÙŠØ©', completed: false },
                            { name: 'ØªØ·ÙˆÙŠØ± ÙˆØ§Ø¬Ù‡Ø© Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø§Ø´ØªØ±Ø§ÙƒØ§Øª Ù„Ù„Ø´Ø±ÙƒØ§Øª', completed: false },
                        ]
                    },
                    {
                        title: 'ØªÙƒØ§Ù…Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…',
                        description: 'ØªØ·ÙˆÙŠØ± Ø§Ù„ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø© Ø§Ù„ØªÙŠ ØªØ±ØªÙƒØ² Ø¹Ù„Ù‰ Ø¬Ù…Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØªØ­Ù„ÙŠÙ„Ù‡Ø§.',
                        duration: [12, 17],
                        expanded: false,
                        tasks: [
                            { name: 'Ø¨Ù†Ø§Ø¡ Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ¬Ù…ÙŠØ¹ Ø§Ù„Ø¢Ù„ÙŠ Ù„Ù„Ø¨ÙŠØ§Ù†Ø§Øª (API & Celery)', completed: false },
                            { name: 'ØªÙ†ÙÙŠØ° ÙˆØ§Ø¬Ù‡Ø§Øª OAuth Ù„Ù„Ù…Ø¤Ø«Ø±ÙŠÙ†', completed: false },
                            { name: 'ØªØ·ÙˆÙŠØ± Ù†Ø¸Ø§Ù… Ø§Ù„ØªØµÙÙŠØ© ÙˆØ§Ù„Ø¨Ø­Ø« Ø§Ù„Ù…ØªÙ‚Ø¯Ù… (django-filter)', completed: false },
                            { name: 'Ø¨Ù†Ø§Ø¡ Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ù…Ù„Ø§Øª ÙˆØ§Ù„ØªÙ‚Ø§Ø±ÙŠØ±', completed: false },
                        ]
                    },
                    {
                        title: 'Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø°ÙƒØ§Ø¡ ÙˆØ§Ù„ØªÙØ§Ø¹Ù„',
                        description: 'Ø¥Ø¶Ø§ÙØ© Ø·Ø¨Ù‚Ø§Øª Ù…Ù† Ø§Ù„ØªØ­Ù„ÙŠÙ„ ÙˆØ§Ù„ØªÙØ§Ø¹Ù„ Ù„ØªÙ…ÙŠÙŠØ² Ø§Ù„Ù…Ù†ØµØ© Ø¹Ù† Ø§Ù„Ù…Ù†Ø§ÙØ³ÙŠÙ†.',
                        duration: [17, 20],
                        expanded: false,
                        tasks: [
                            { name: 'ØªØ·ÙˆÙŠØ± Ù†Ø¸Ø§Ù… ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ù…Ø¤Ø«Ø±ÙŠÙ† (django-star-ratings)', completed: false },
                            { name: 'Ø¨Ù†Ø§Ø¡ Ù†Ø¸Ø§Ù… Ø§Ù„ØªØµÙ†ÙŠÙ Ø§Ù„Ø¢Ù„ÙŠ Ù„Ù„Ø£Ø¯Ø§Ø¡ (Celery & Scikit-learn)', completed: false },
                            { name: 'ØªÙ†ÙÙŠØ° Ù†Ø¸Ø§Ù… Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ø§Ø³ØªØ¨Ø§Ù‚ÙŠ', completed: false },
                        ]
                    },
                    {
                        title: 'Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø£Ù…Ø§Ù…ÙŠØ© ÙˆØ§Ù„Ù†Ø´Ø±',
                        description: 'ØªØµÙ…ÙŠÙ… ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ© ÙˆÙ†Ø´Ø± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ù„ÙŠÙƒÙˆÙ† Ù…ØªØ§Ø­Ø§Ù‹ Ù„Ù„Ø¬Ù…Ù‡ÙˆØ±.',
                        duration: [20, 24],
                        expanded: false,
                        tasks: [
                            { name: 'ØªØ·ÙˆÙŠØ± Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø£Ù…Ø§Ù…ÙŠØ© Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠØ© (Alpine.js)', completed: false },
                            { name: 'Ø¥Ø¹Ø¯Ø§Ø¯ Ø®Ø§Ø¯Ù… Ø§Ù„Ù†Ø´Ø± (VPS, Nginx, Gunicorn)', completed: false },
                            { name: 'ØªÙƒÙˆÙŠÙ† Ø®Ø¯Ù…Ø© Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ÙØ¯Ø§Ø±Ø© (AWS RDS)', completed: false },
                            { name: 'Ø¥Ø¹Ø¯Ø§Ø¯ CI/CD pipeline Ù„Ù„Ù†Ø´Ø± Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ', completed: false },
                        ]
                    }
                ],
                init() {
                    this.$watch('activeTab', (value) => {
                        if (value === 'timeline') {
                            this.$nextTick(() => this.renderTimelineChart());
                        }
                    });
                },
                phaseProgress(phase) {
                    const totalTasks = phase.tasks.length;
                    if (totalTasks === 0) return 0;
                    const completedTasks = phase.tasks.filter(task => task.completed).length;
                    return Math.round((completedTasks / totalTasks) * 100);
                },
                overallProgress() {
                    const allTasks = this.phases.flatMap(phase => phase.tasks);
                    const totalTasks = allTasks.length;
                    if (totalTasks === 0) return 0;
                    const completedTasks = allTasks.filter(task => task.completed).length;
                    return Math.round((completedTasks / totalTasks) * 100);
                },
                timelineChart: null,
                renderTimelineChart() {
                    const ctx = document.getElementById('timelineChart').getContext('2d');
                    
                    if (this.timelineChart) {
                        this.timelineChart.destroy();
                    }

                    const data = {
                        labels: this.phases.map(p => p.title),
                        datasets: [{
                            label: 'Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø²Ù…Ù†ÙŠ Ù„Ù„Ù…Ø´Ø±ÙˆØ¹ (Ø¨Ø§Ù„Ø£Ø³Ø§Ø¨ÙŠØ¹)',
                            data: this.phases.map(p => p.duration),
                            backgroundColor: 'rgba(141, 135, 65, 0.6)',
                            borderColor: 'rgba(141, 135, 65, 1)',
                            borderWidth: 1,
                            borderRadius: 4,
                            borderSkipped: false,
                        }]
                    };

                    const options = {
                        indexAxis: 'y',
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            x: {
                                beginAtZero: true,
                                title: {
                                    display: true,
                                    text: 'Ø§Ù„Ø£Ø³Ø§Ø¨ÙŠØ¹'
                                }
                            },
                            y: {
                                ticks: {
                                    font: {
                                        size: 12
                                    }
                                }
                            }
                        },
                        plugins: {
                            legend: {
                                display: false
                            },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        const value = context.raw;
                                        return ` Ù…Ù† Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ ${value[0]} Ø¥Ù„Ù‰ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ ${value[1]}`;
                                    }
                                }
                            }
                        }
                    };

                    this.timelineChart = new Chart(ctx, {
                        type: 'bar',
                        data: data,
                        options: options
                    });
                }
            }
        }
    </script>
</body>
</html>

